{% extends "base_recipe.html" %}

{% block title %}Add New Recipe{% endblock %}

{% block content %}
<div class="card p-4 shadow-sm">
    <h2 class="card-title text-center mb-4">Add Your New Recipe</h2>
    <form method="POST" action="{{ url_for('add_recipe') }}">
        <div class="mb-3">
            <label for="title" class="form-label">Recipe Title:</label>
            <input type="text" class="form-control" id="title" name="title" value="{{ title or '' }}" required>
        </div>

        <div class="mb-3">
            <label for="category" class="form-label">Category:</label>
            <select class="form-select" id="category" name="category" required>
                <option value="">Select a Category</option>
                {% for category_name in categories %}
                    <option value="{{ category_name }}" {% if category_name == category %}selected{% endif %}>{{ category_name }}</option>
                {% endfor %}
                <option value="Other" {% if category == 'Other' %}selected{% endif %}>Other</option>
            </select>
        </div>

        <div class="mb-3">
            <label for="ingredients" class="form-label">Ingredients (one per line):</label>
            <textarea class="form-control" id="ingredients" name="ingredients" rows="7" required>{{ ingredients_raw or '' }}</textarea>
            <div class="form-text">Enter each ingredient on a new line.</div>
        </div>

        <div class="mb-3">
            <label for="instructions" class="form-label">Instructions:</label>
            <textarea class="form-control" id="instructions" name="instructions" rows="10" required>{{ instructions or '' }}</textarea>
        </div>

        <div class="mb-3">
            <label for="image" class="form-label">Image Filename (Optional):</label>
            <input type="text" class="form-control" id="image" name="image" value="{{ image or '' }}" aria-describedby="imageHelp">
            <div id="imageHelp" class="form-text">e.g., 'my_dish.jpg'. Make sure the image is in `static/images/recipes/` folder.</div>
        </div>

        <button type="submit" class="btn btn-primary w-100">Add Recipe</button>
    </form>
</div>
{% endblock %}